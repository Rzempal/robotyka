<!-- projekty.html v0.001 Brutalism Design -->
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROBOTYKA - Projekty | Michał Rąpała</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="common-styles.css">
    <style>
        /* Project-specific styles for brutalism */
        .filter-group {
            margin-bottom: 1.5rem;
        }
        .filter-group-label {
            display: block;
            font-family: var(--font-display);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-accent);
            margin-bottom: 0.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--color-bg-alt);
        }
        .filter-tags-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .filter-tag {
            background: var(--color-bg-alt);
            color: var(--color-text);
            padding: 0.5rem 1rem;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            cursor: pointer;
            border: var(--border-thick) solid var(--color-text);
            transition: all 0.2s ease;
            text-transform: uppercase;
        }
        .filter-tag:hover {
            background: var(--color-text);
            color: var(--color-bg);
            transform: translateY(-2px);
        }
        .filter-tag.active {
            background: var(--color-accent);
            color: var(--color-bg);
            border-color: var(--color-accent);
        }

        /* Project cards grid */
        #project-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .project-card {
            background: var(--color-bg-alt);
            border: var(--border-thick) solid var(--color-text);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .project-card:hover {
            transform: translate(-4px, -4px);
            box-shadow: 8px 8px 0 var(--color-accent);
        }
        .project-card.hidden-by-filter {
            display: none;
        }
        .project-card h4 {
            font-family: var(--font-display);
            font-size: 1.25rem;
            text-transform: uppercase;
            color: var(--color-accent);
            margin-bottom: 0.25rem;
        }
        .project-card .project-date-company {
            font-family: var(--font-mono);
            font-size: 0.75rem;
            color: var(--color-text-muted);
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--color-bg-alt);
        }
        .project-card .project-detail {
            margin-bottom: 0.75rem;
        }
        .project-card .project-detail-label {
            font-family: var(--font-mono);
            font-weight: 700;
            font-size: 0.7rem;
            text-transform: uppercase;
            color: var(--color-text-muted);
            display: block;
            margin-bottom: 0.25rem;
        }
        .project-card .project-detail-value {
            font-family: var(--font-mono);
            font-size: 0.85rem;
            color: var(--color-text);
        }
        .project-tags-container {
            margin-top: auto;
            padding-top: 1rem;
            border-top: 2px solid var(--color-bg-alt);
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .project-tags-container .tag {
            background: transparent;
            color: var(--color-text-muted);
            border: 2px solid var(--color-text-muted);
            padding: 0.25rem 0.5rem;
            font-family: var(--font-mono);
            font-size: 0.65rem;
            text-transform: uppercase;
        }

        @media (max-width: 768px) {
            #project-cards-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body data-page-name="Projekty">

    <div id="navbar-placeholder"></div>

    <!-- HERO SECTION -->
    <section class="hero-brutal" style="min-height: 50vh;">
        <div class="hero-content animate-on-scroll aos-fade-in-left">
            <span class="hero-tag">Portfolio</span>
            <h1 class="hero-title">
                Moje <span class="accent">Projekty</span>
            </h1>
            <p class="hero-description" data-lang-key="heroProjectsText">Od BMW po Volkswagena – realizowałem symulacje i programowanie robotów dla kluczowych graczy branży automotive.</p>
            <a href="kontakt.html" class="btn-brutal" data-lang-key="heroCtaButtonContact">Skontaktuj się</a>
        </div>
        <div class="hero-visual animate-on-scroll aos-fade-in-right">
            <div class="hero-image-wrapper">
                <img src="https://michalrapala.com/assets/images/robotyka/projekty.jpg" alt="Projekty robotyki">
                <div class="glitch-box">15+ Projektów</div>
            </div>
        </div>
    </section>

    <!-- PROJECTS SECTION -->
    <section class="section-brutal">
        <div class="section-header">
            <h2 class="section-title" data-lang-key="projectsTitle">Projekty</h2>
            <span class="section-count">[15+] Realizacji</span>
        </div>
        <div class="section-content">
            <!-- Filters -->
            <div id="project-filters" class="animate-on-scroll aos-fade-in-up">
                <div class="filter-group">
                    <div class="filter-tags-wrapper" id="filter-group-all">
                        <!-- "Wszystkie" button -->
                    </div>
                </div>
                <div class="filter-group">
                    <span class="filter-group-label" data-lang-key="filterGroupPosition">Stanowisko</span>
                    <div class="filter-tags-wrapper" id="filter-group-position-tags">
                        <!-- Position tags -->
                    </div>
                </div>
                <div class="filter-group">
                    <span class="filter-group-label" data-lang-key="filterGroupStandardSoftware">Standard i Oprogramowanie</span>
                    <div class="filter-tags-wrapper" id="filter-group-standard-software-tags">
                        <!-- Standard/Software tags -->
                    </div>
                </div>
                <div class="filter-group">
                    <span class="filter-group-label" data-lang-key="filterGroupRobotsTechnology">Roboty i Technologie</span>
                    <div class="filter-tags-wrapper" id="filter-group-robots-technology-tags">
                        <!-- Robot/Technology tags -->
                    </div>
                </div>
            </div>

            <!-- Project Cards Grid -->
            <div id="project-cards-grid">
                <!-- Cards generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta-brutal">
        <div class="cta-content animate-on-scroll aos-fade-in-left">
            <h2 class="cta-title">Zainteresowany <span class="accent">współpracą?</span></h2>
            <p class="cta-description">Porozmawiajmy o Twoim projekcie. Symulacje, programowanie robotów, optymalizacja procesów.</p>
            <a href="kontakt.html" class="btn-brutal btn-brutal--secondary" data-lang-key="heroCtaButtonContact">Skontaktuj się</a>
        </div>
        <div class="cta-visual animate-on-scroll aos-zoom-in">
            <span>?</span>
        </div>
    </section>

    <div id="footer-placeholder"></div>

    <script src="common-scripts.js"></script>
    <script>
        function renderProjectCards(currentLang) {
            const grid = document.getElementById('project-cards-grid');
            if (!grid) return;
            grid.innerHTML = '';

            if (typeof translations === 'undefined' || typeof projectData === 'undefined') {
                console.error("Translations or projectData not found for rendering cards.");
                return;
            }

            projectData.forEach((project, index) => {
                const card = document.createElement('div');
                card.classList.add('project-card', 'animate-on-scroll', 'aos-fade-in-up');
                card.style.transitionDelay = `${index * 50}ms`;
                card.dataset.tags = project.tags.join(' ');

                const getText = (keyOrObject) => {
                    if (typeof keyOrObject === 'string' && translations[keyOrObject] && translations[keyOrObject][currentLang]) {
                        return translations[keyOrObject][currentLang];
                    } else if (typeof keyOrObject === 'string' && translations[keyOrObject] && translations[keyOrObject]['pl']) {
                        return translations[keyOrObject]['pl'];
                    }
                     else if (typeof keyOrObject === 'object' && keyOrObject !== null && keyOrObject[currentLang]) {
                        return keyOrObject[currentLang];
                    } else if (typeof keyOrObject === 'object' && keyOrObject !== null && keyOrObject['pl']) {
                        return keyOrObject['pl'];
                    }
                    if (typeof keyOrObject === 'string') return keyOrObject.replace(/_/g, ' ');
                    return 'N/A';
                };

                card.innerHTML = `
                    <h4 data-lang-key="${project.nameKey}">${getText(project.nameKey)}</h4>
                    <p class="project-date-company">${getText(project.dateCompanyKey)}</p>

                    <div class="project-detail">
                        <span class="project-detail-label" data-lang-key="projectCardPositionLabel">${getText('projectCardPositionLabel')}</span>
                        <span class="project-detail-value">${getText(project.positionKey)}</span>
                    </div>

                    <div class="project-detail">
                        <span class="project-detail-label" data-lang-key="projectCardStandardSoftwareLabel">${getText('projectCardStandardSoftwareLabel')}</span>
                        <span class="project-detail-value">${getText(project.standardSoftwareKey)}</span>
                    </div>

                    <div class="project-detail">
                        <span class="project-detail-label" data-lang-key="projectCardRobotsTechnologyLabel">${getText('projectCardRobotsTechnologyLabel')}</span>
                        <span class="project-detail-value">${getText(project.robotsTechnologyKey)}</span>
                    </div>

                    <div class="project-tags-container">
                        ${project.tags.map(tag => `<span class="tag">${tag.replace(/_/g, ' ')}</span>`).join('')}
                    </div>
                `;
                grid.appendChild(card);
            });
            if (typeof initializeAnimateOnScroll === 'function') {
                initializeAnimateOnScroll();
            }
        }

        function initializeProjectFiltersLocal(currentLang) {
            const mainFiltersContainer = document.getElementById('project-filters');
            if (!mainFiltersContainer) {
                console.error("Błąd: Główny kontener filtrów #project-filters nie został znaleziony.");
                return;
            }

            const filtersContainerAll = document.getElementById('filter-group-all');
            const filtersGroupPositionEl = document.getElementById('filter-group-position-tags');
            const filtersGroupStdSwEl = document.getElementById('filter-group-standard-software-tags');
            const filtersGroupRobTechEl = document.getElementById('filter-group-robots-technology-tags');

            if (!filtersContainerAll || !filtersGroupPositionEl || !filtersGroupStdSwEl || !filtersGroupRobTechEl) {
                console.error("Błąd: Nie znaleziono jednego lub więcej kontenerów grup tagów.");
                return;
            }

            filtersContainerAll.innerHTML = '';
            filtersGroupPositionEl.innerHTML = '';
            filtersGroupStdSwEl.innerHTML = '';
            filtersGroupRobTechEl.innerHTML = '';

            if (typeof projectData === 'undefined' || typeof translations === 'undefined') {
                console.error("Błąd: projectData lub translations nie są zdefiniowane.");
                return;
            }

            const positionKeywords = ["Simulation_Leader", "Simulation_Engineer", "Online_Robot_Programming", "Line_Leader", "Offline_Robot_Programming", "Online_Support"];
            const standardSoftwareKeywords = ["Magna", "Process_Simulate", "BMW_v7", "BMW_v8", "KUKA_Work_Visual", "VW", "OPEL_Legacy", "JLR", "Robcad", "Volvo", "Delmia_V5", "Daimler", "Ineos", "BMW_Standard", "N/A"];
            const robotsTechnologyKeywords = ["KUKA_Robots", "ABB_Robots", "Fanuc_Robots", "Spot_Welding", "Stud_Welding", "Adhesive", "FDS", "Riveting", "Screwing", "Alu", "Steel", "Glass_Industry"];

            let allUniqueTags = new Set();
            projectData.forEach(project => {
                project.tags.forEach(tag => allUniqueTags.add(tag));
            });

            const createFilterButton = (tag, container) => {
                const button = document.createElement('span');
                button.textContent = tag.replace(/_/g, ' ');
                button.classList.add('filter-tag');
                button.dataset.filter = tag;
                container.appendChild(button);
                return button;
            };

            const allButton = createFilterButton('all', filtersContainerAll);
            allButton.dataset.langKey = 'filterAll';
            allButton.textContent = (translations.filterAll && translations.filterAll[currentLang]) ? translations.filterAll[currentLang] : "Wszystkie";
            allButton.classList.add('active');

            const categorizedTags = {
                position: new Set(),
                standardSoftware: new Set(),
                robotsTechnology: new Set()
            };

            allUniqueTags.forEach(tag => {
                if (positionKeywords.includes(tag)) {
                    categorizedTags.position.add(tag);
                } else if (standardSoftwareKeywords.includes(tag)) {
                    categorizedTags.standardSoftware.add(tag);
                } else if (robotsTechnologyKeywords.includes(tag)) {
                    categorizedTags.robotsTechnology.add(tag);
                }
            });

            Array.from(categorizedTags.position).sort().forEach(tag => createFilterButton(tag, filtersGroupPositionEl));
            Array.from(categorizedTags.standardSoftware).sort().forEach(tag => createFilterButton(tag, filtersGroupStdSwEl));
            Array.from(categorizedTags.robotsTechnology).sort().forEach(tag => createFilterButton(tag, filtersGroupRobTechEl));

            const setGroupLabel = (key, defaultText) => {
                const elem = document.querySelector(`.filter-group-label[data-lang-key="${key}"]`);
                if (elem) {
                    elem.textContent = (translations[key] && translations[key][currentLang]) ? translations[key][currentLang] : defaultText;
                }
            };
            setGroupLabel('filterGroupPosition', "Stanowisko");
            setGroupLabel('filterGroupStandardSoftware', "Standard i Oprogramowanie");
            setGroupLabel('filterGroupRobotsTechnology', "Roboty i Technologie");

            const allFilterButtonsContainers = [filtersContainerAll, filtersGroupPositionEl, filtersGroupStdSwEl, filtersGroupRobTechEl];

            if (!mainFiltersContainer.dataset.listenerAttached) {
                mainFiltersContainer.addEventListener('click', (event) => {
                    if (event.target.classList.contains('filter-tag')) {
                        const filterValue = event.target.dataset.filter;

                        allFilterButtonsContainers.forEach(cont => {
                            cont.querySelectorAll('.filter-tag').forEach(btn => btn.classList.remove('active'));
                        });
                        event.target.classList.add('active');

                        const projectCardsElements = document.querySelectorAll('.project-card');
                        projectCardsElements.forEach(card => {
                            const cardTags = card.dataset.tags.split(' ');
                            const tagExists = cardTags.includes(filterValue);
                            if (filterValue === 'all' || tagExists) {
                                card.classList.remove('hidden-by-filter');
                                setTimeout(() => card.classList.add('is-visible'), 50);
                            } else {
                                card.classList.remove('is-visible');
                                card.classList.add('hidden-by-filter');
                            }
                        });
                    }
                });
                mainFiltersContainer.dataset.listenerAttached = 'true';
            }
        }
    </script>

</body>
</html>
